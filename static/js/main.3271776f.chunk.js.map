{"version":3,"sources":["features/gaol/gaolAdapter.js","config/regex.js","features/gaol/gaolService.js","plugins/localForage/index.js","features/gaol/gaolAPI.js","config/gaol.js","utils/gaol-helper.js","features/gaol/gaolSlice.js","features/gaol/Gaol.js","utils/xml-js.js","components/UI/CharacterRow.js","config/party.js","components/UI/CustomMessage.js","components/UI/PartyPanel.js","components/UI/About.js","components/UI/ImXExport.js","pages/Setting.js","App.js","app/store.js","index.js"],"names":["tts","msg","a","call","createMessage","window","callOverlayHandler","console","error","type","key","data","config","gaolRegex","nameRegex","testRegex","testNameRegex","regex","RegexConfig","regexTest","getPlayerFromRaw","players","rawLine","i","findIndex","name","includes","sortByASC","b","getNameFromRaw","match","testMatch","split","pop","store","localForage","updateUserConfig","Promise","resolve","reject","local","setItem","meIndex","countMatch","message","nogaol","gaol1","gaol2","gaol3","gaolLTE","Math","max","process","gaolResetLTE","getStringFromMessage","x","str","DefaultGaolConfig","initialState","number","gaoledPlayers","myNumber","nog","status","fetchUserConfig","createAsyncThunk","getItem","gaol","gaolSlice","createSlice","reducers","order","state","action","payload","form","position","appendGaoledPlayer","iplayer","gaoled","filter","gp","timestamp","lte","Date","duplicate","undefined","find","newItem","getTime","log","toLocaleString","resetGaoledPlayer","setCustomMessage","extraReducers","builder","addCase","pending","fulfilled","logDisplayName","LogRocket","identify","actions","selectNumber","selectMyNumber","selectPlayers","selectGaoledPlayers","selectError","selectMessage","orderGaol","dispatch","getState","length","me","arr","map","sort","e","gaolService","GaolHelper","gaolAdaper","setTimeout","updateConfig","configObj","updateUserConfigAPI","useStyles","makeStyles","theme","root","display","justifyContent","padding","background","alpha","msgRoot","flexDirection","fontSize","color","palette","success","main","timer","paper","spacing","textAlign","text","secondary","Gaol","useSelector","errorMsg","classes","useDispatch","useEffect","listeners","event","gaolEvent","forEach","listener","addOverlayListener","startOverlayEvents","gaolConnect","removeOverlayListener","gaolDisconnect","useCallback","test","then","updateGaol","Paper","className","variant","elevation","Typography","IconButton","size","onClick","querystring","String","location","search","joiner","indexOf","href","open","openWindowSetting","array2PriorityJsonXML","json","declaration","attributes","version","encoding","standalone","elements","playerElements","item","push","characterRow","no","marginRight","CharacterRow","selectMe","index","onChangeSelectMe","onTextInput","removeHandle","hiddenAction","component","Radio","checked","value","onChange","TextField","label","target","fullParty","lightParty","CustomMessage","inputList","spaceTop","marginTop","inputRoot","inputMessage","width","Card","style","paddingBottom","CardHeader","title","titleTypographyProps","CardContent","input","actionDiv","cancelBtn","margin","dnone","PartyPanel","React","useState","isReset","setIsReset","anchorEl","setAnchorEl","tempMessage","setTempMessage","importFile","useRef","tempExportLink","handleMenuClose","removeMemberHandle","p","pi","onClickExport","jsonXML","utilConvert","xml","convert","file","Blob","blob","callback","fileReader","FileReader","onload","result","readAsDataURL","blobToDataURL","url","current","innerText","download","click","onInput","nplayers","v","onTempMessageInput","ntempmessage","slice","saveConfig","alert","partyType","Config","getPartyType","menuList","icon","disabled","customList","currentTarget","subheader","Menu","id","keepMounted","Boolean","onClose","obj","MenuItem","ListItemIcon","ListItemText","primary","n","Button","prev","ref","stopPropagation","preventDefault","files","reader","readAsText","About","Link","underline","ImXExport","setText","importInput","exportHandle","gaolUserConfig","encrypt","LZString","compressToEncodedURIComponent","multiline","rows","decompressFromEncodedURIComponent","TabPanel","props","children","other","role","hidden","Box","a11yProps","Setting","useTheme","default","height","tabpanel","setValue","AppBar","Tabs","newValue","indicatorColor","textColor","Tab","onChangeIndex","dir","direction","App","exact","path","configureStore","reducer","gaolReducer","middleware","getDefaultMiddleware","concat","reduxMiddleware","init","createTheme","ReactDOM","render","StrictMode","ThemeProvider","CssBaseline","document","getElementById"],"mappings":"8ZA2BaA,EAAG,uCAAG,WAAOC,GAAP,eAAAC,EAAA,sEAETC,EAAOC,EAAc,MAAO,OAAQH,GAF3B,SAGTI,OAAOC,mBAAmBH,GAHjB,iCAIR,GAJQ,uCAMfI,QAAQC,MAAR,MANe,mBAOR,GAPQ,yDAAH,sDAWHJ,EAAgB,SAACK,EAAMC,EAAKC,GAAU,IAAD,EAMhD,OALU,GACRR,KAAMM,GADE,cAEPC,EAAMC,GAFC,oBAGRD,GAHQ,qBAGHC,GAHG,GC/BGC,EAPA,CACXC,UAAW,gCACXC,UAAW,iCACXC,UAAW,mBACXC,cAAe,oBCHbC,EAAQC,EAAYL,UACpBM,EAAYD,EAAYH,UACxBD,EAAYI,EAAYJ,UACxBE,EAAgBE,EAAYF,cAiBrBI,EAAmB,SAACC,EAASC,GACxC,IAAMC,EAAIF,EAAQG,WAAU,SAAAC,GAAI,OAAIH,EAAQI,SAASD,MACrD,MAAO,CAACF,EAAGA,GAAK,IAWLI,EAAY,SAACzB,EAAG0B,GAAJ,OAAU1B,EAAI0B,GAE1BC,EAAiB,SAACP,GAC7B,IAAIQ,EAAQR,EAAQQ,MAAMhB,GACtBiB,EAAYT,EAAQQ,MAAMd,GAC9B,OAAIc,EACWA,EAAM,GAAGE,MAAM,KAAKC,MAExBF,EACIA,EAAU,GAAGC,MAAM,KAAKC,MAGhC,M,gCCzCMC,E,OAJDC,eAA2B,CACrCV,KAAM,gBCUH,SAASW,EAAiBxB,GAC/B,OAAO,IAAIyB,QAAJ,uCAAY,WAAOC,EAASC,GAAhB,SAAArC,EAAA,+EAETsC,EAAMC,QAAQ,OAAd,eAA2B7B,IAFlB,OAGf0B,GAAQ,GAHO,+CAKfC,EAAO,EAAD,IALS,wDAAZ,yDCZT,IAce3B,EAdA,CACXS,QAAS,GACTqB,SAAU,EACVC,WAAY,EACZC,QAAS,CACLC,OAAQ,qBACRC,MAAO,IACPC,MAAO,IACPC,MAAO,KAEXC,QAASC,KAAKC,IAAI,EAAGC,QACrBC,aAAcH,KAAKC,IAAI,EAAGC,UCVjBE,EAAuB,SAACV,EAASW,GAC5C,IAAIC,EAAM,GACV,OAAQD,GACN,KAAK,EACHC,EAAMZ,EAAQI,OAASS,EAAkBb,QAAQI,MACjD,MACF,KAAK,EACHQ,EAAMZ,EAAQG,OAASU,EAAkBb,QAAQG,MACjD,MACF,KAAK,EACHS,EAAMZ,EAAQE,OAASW,EAAkBb,QAAQE,MACjD,MACF,KAAK,EACHU,EAAMZ,EAAQC,QAAUY,EAAkBb,QAAQC,OAItD,OAAOW,GCZHE,EAAe,CACnBC,QAAS,EACTtC,QAAS,GACTuC,cAAe,GACfC,UAAW,EACXC,IAAK,EACLC,OAAQ,QACRvD,MAAO,GACPoC,QAASa,EAAkBb,SAUhBoB,EAAkBC,YAC7B,uBAD6C,sBAE7C,4BAAA/D,EAAA,sEHzBO,IAAImC,QAAJ,uCAAY,WAAOC,EAASC,GAAhB,eAAArC,EAAA,+EAEIsC,EAAM0B,QAAQ,QAFlB,OAETC,EAFS,OAGf7B,EAAQ6B,GAAQ,IAHD,gDAKf5B,EAAO,EAAD,IALS,yDAAZ,yDGyBP,cACQ3B,EADR,yBAGSA,GAHT,4CAOWwD,EAAYC,YAAY,CACnC5C,KAAM,OACNiC,eAEAY,SAAU,CACRC,MAAO,SAACC,EAAOC,GACbD,EAAMb,OAASc,EAAOC,SAExBC,KAAM,SAACH,EAAOC,GACZD,EAAMnD,QAAUoD,EAAOC,SAEzBE,SAAU,SAACJ,EAAOC,GAChBD,EAAMX,SAAWY,EAAOC,SAE1BlE,MAAO,SAACgE,EAAOC,GACbD,EAAMhE,MAAQiE,EAAOC,SAEvBG,mBAAoB,SAACL,EAAOC,GAC1B,IAAMK,EAAWL,EAAOC,QAKlBK,EAASP,EAAMZ,cAAcoB,QAAO,SAAAC,GAAE,OAvChCC,EAuC8CD,EAAGE,MAvCnC,IAAIC,KAAS,IAAIA,KAAKF,IAArC,IAACA,KAyCNG,OAA0DC,IAA9CP,EAAOQ,MAAK,SAAAN,GAAE,OAAIA,EAAGH,UAAYA,KAC7CU,EAAU,CAAEV,UAASK,KAAK,IAAIC,MAAOK,UAAYhC,EAAkBR,SACzEuB,EAAMZ,cAAiByB,EAAmCN,EAApC,sBAAiBA,GAAjB,CAAyBS,IAC3CH,GACF9E,QAAQmF,KAAI,IAAIN,MAAOO,iBAAkB,2BAA4Bb,IAGzEc,kBAAmB,SAACpB,GAClBA,EAAMZ,cAAgB,IAExBiC,iBAAkB,SAACrB,EAAOC,GACxBD,EAAM5B,QAAU6B,EAAOC,UAK3BoB,cAAe,SAACC,GACdA,EACGC,QAAQhC,EAAgBiC,SAAS,SAACzB,GACjCA,EAAMT,OAAS,aAEhBiC,QAAQhC,EAAgBkC,WAAW,SAAC1B,EAAOC,GAG1C,IAAMpD,EAAUoD,EAAOC,QAAQrD,QACzBwC,EAAWY,EAAOC,QAAQb,SAOhC,GANAW,EAAMT,OAAS,QACfS,EAAMnD,QAAUA,GAAWmD,EAAMnD,QACjCmD,EAAMX,cAAwByB,IAAbzB,EAAyBA,EAAWW,EAAMX,SACvDY,EAAOC,QAAQ9B,UAAS4B,EAAM5B,QAAU6B,EAAOC,QAAQ9B,SAGvDvB,QAAwBiE,IAAbzB,GAA0BA,GAAY,EAAG,CACtD,IAAMsC,EAAiB9E,EAAQwC,IAAa,iBAC5CuC,IAAUC,SAAV,WAAuBxC,EAAvB,YAAmCsC,WAMtC,EAAkG/B,EAAUkC,QAApG/B,EAAR,EAAQA,MAAOI,EAAf,EAAeA,KAAMC,EAArB,EAAqBA,SAAUpE,EAA/B,EAA+BA,MAAOqE,EAAtC,EAAsCA,mBAAoBe,EAA1D,EAA0DA,kBAAmBC,GAA7E,EAA6EA,iBAKvEU,GAAe,SAAC/B,GAAD,OAAWA,EAAML,KAAKR,QACrC6C,GAAiB,SAAChC,GAAD,OAAWA,EAAML,KAAKN,UACvC4C,GAAgB,SAACjC,GAAD,OAAWA,EAAML,KAAK9C,SACtCqF,GAAsB,SAAClC,GAAD,OAAWA,EAAML,KAAKP,eAC5C+C,GAAc,SAACnC,GAAD,OAAWA,EAAML,KAAK3D,OACpCoG,GAAgB,SAACpC,GAAD,OAAWA,EAAML,KAAKvB,SAsCtCiE,GAAY,kBAAM,SAACC,EAAUC,GACxC,IAAMnD,EAAgB8C,GAAoBK,KAC1C,GAA6B,IAAzBnD,EAAcoD,OAAc,CAC9B,IACA,EL7H4B,SAACC,EAAIlC,GACnC,IAAIR,EACA2C,EAAMnC,EAAOoC,KAAI,SAAA5F,GAAC,OAAIA,KAG1B,OAFA2F,EAAIE,KAAKzF,GAEF,CADP4C,EAAQ2C,EAAI1F,WAAU,SAAA6F,GAAC,OAAIA,IAAMJ,KAAM,EACxB1C,GAAS,GKwHP+C,CADEd,GAAeO,KACsBnD,EAAcuD,KAAI,SAAAlC,GAAE,OAAIA,EAAGH,YAA5EnB,EAAL,oBACApD,QAAQmF,KAAI,IAAIN,MAAOO,iBAAkB/B,EAAcuD,KAAI,SAAAlC,GAAE,kCAASA,GAAT,IAAaE,IAAK,IAAIC,KAAKH,EAAGE,KAAKQ,sBAAqBhC,GAGrH,IAAMf,EAAUgE,GAAcG,KACxB9G,EAAMsH,EAAgC3E,EAASe,GACjD1D,EACFuH,EAAevH,IAEf6G,EAAStG,EAAM,8BACfiH,YAAW,kBAAMX,EAAStG,EAAM,OAAM,MAGxCiH,YAAW,WACTX,EAASlB,KACTkB,EAASvC,GAAO,MACfd,EAAkBJ,cACrByD,EAASvC,EAAMZ,OAIN+D,GAAe,SAAC,GAAD,IAC1BrG,EAD0B,EAC1BA,QAD0B,IAE1BwC,gBAF0B,MAEfH,EAAaG,SAFE,MAG1BjB,eAH0B,MAGhB,KAHgB,gDAItB,WAAOkE,GAAP,eAAA5G,EAAA,6DACEyH,EAAY,CAAEtG,UAASwC,YACzBjB,IAAS+E,EAAU/E,QAAUA,GAF7B,SAGEgF,EAAoBD,GAHtB,2CAJsB,uDAUbvD,KAAf,Q,iBCjKMyD,GAAYC,aAAW,SAACC,GAC5B,MAAO,CACLC,KAAM,CACJC,QAAS,OACTC,eAAgB,gBAChBC,QAAS,UACTC,WAAYC,YAAM,UAAW,KAI/BC,QAAS,CACPL,QAAS,OACTM,cAAe,SACfL,eAAgB,UAElBjI,IAAK,CACHuI,SAAU,OAEZjE,MAAO,CACLkE,MAAOV,EAAMW,QAAQC,QAAQC,MAE/BC,MAAO,CACLL,SAAU,QAEZM,MAAO,CACLX,QAASJ,EAAMgB,QAAQ,GACvBC,UAAW,SACXP,MAAOV,EAAMW,QAAQO,KAAKC,eAqFjBC,OAhFf,WACE,IAAMxF,EAASyF,YAAY7C,IACrB8C,EAAWD,YAAYzC,IACvB/D,EAAUwG,YAAYxC,IACtB0C,EAAUzB,KACVf,EAAWyC,cAEjBC,qBAAU,WACR1C,EAAS9C,KACT,IAAMyF,EAAY,CAChB,CAAEhI,KAAM,UAAWiI,MAAOC,IAG5B,ORjEmB,SAACF,GACtB,IACEA,EAAUG,SAAQ,SAAAC,GAChBxJ,OAAOyJ,mBAAmBD,EAASpI,MAAM,SAAC4F,GAAD,OAAOwC,EAASH,MAAMrC,SAEjEhH,OAAO0J,qBACPxJ,QAAQmF,IAAI,0BACZ,MAAO2B,GACP9G,QAAQC,MAAM,kCACdD,QAAQC,MAAM6G,IQuDd2C,CAAYP,GACL,kBRpDe,SAACA,GACzB,IACEA,EAAUG,SAAQ,SAAAC,GAChBxJ,OAAO4J,sBAAsBJ,EAASpI,MAAM,SAAC4F,GAAD,OAAOwC,EAASH,MAAMrC,SAEpE9G,QAAQmF,IAAI,0BACZ,MAAO2B,GACP9G,QAAQC,MAAM,kCACdD,QAAQC,MAAM6G,IQ4CD6C,CAAeT,MAC3B,IAEH,IAAME,EAAYQ,uBAAY,SAACxJ,GAC7B,INnDsB6C,EMmDdlC,EAAYX,EAAZW,SNnDckC,EMoDKlC,ENpDGL,EAAMmJ,KAAK5G,IAAQrC,EAAUiJ,KAAK5G,KMqDhEsD,EAAS9C,KAAmBqG,MAAK,WAC/BvD,EDkDoB,SAACxF,GAAD,OAAa,SAACwF,EAAUC,GAChD,IAAQlF,EAAqCyF,EAE7C,EAF6CA,EAC7Bb,GAAcM,KACiBzF,GAA/C,mBAAOC,EAAP,KACA,GADA,KAWsBmF,GAAoBK,KACxBC,QAAU,IAC1BF,EAASlB,KACTrF,QAAQmF,KAAI,IAAIN,MAAOO,iBAAkB,iBAAkBrE,IAG7DwF,EAASjC,EAAmBtD,IAC5BuF,EAASD,UAjBT,CACEC,EAASlB,KACT,IAAMnE,EAAOI,EAAeP,GACxBG,IACFqF,EAAStG,EAAM,GAAD,OAAIiB,EAAJ,0BACdgG,YAAW,kBAAMX,EAAStG,EAAM,OAAM,QC3D7B8J,CAAWhJ,SAErB,IA0BH,OACE,gBAACiJ,EAAA,EAAD,CAAOC,UAAWlB,EAAQtB,KAAMyC,QAAQ,WAAWC,UAAW,EAA9D,UACE,uBAAKF,UAAWlB,EAAQhB,QAAxB,UACE,gBAACqC,EAAA,EAAD,CAAYF,QAAQ,YAApB,kBAEE,sCACA,uBAAMD,UAAWlB,EAAQ/E,MAAzB,SApBFZ,GAAU,GACL4D,EAAgC3E,EAASe,IAE3C,QAkBD,yCAcF,eAACgH,EAAA,EAAD,CAAYF,QAAQ,QAAQD,UAAWlB,EAAQrJ,IAAKwI,MAAM,QAA1D,SAAmEY,GAAY,QAEjF,+BACE,eAACuB,EAAA,EAAD,CAAY,aAAW,UAAUC,KAAK,QAAQC,QAAS,kBA/CnC,WACxB,IAAIC,EAAcC,OAAO3K,OAAO4K,SAASC,QACrCC,GAAwC,IAA9BJ,EAAYK,QAAQ,KAAe,IAAM,IACvDL,EAAW,UAAMA,GAAN,OAAoBI,GAC/B,IAAIE,EAAOhL,OAAO4K,SAASI,KAC3BhL,OAAOiL,KAAP,UAAeD,EAAf,YAA+B,GAAI,gDA0C8BE,IAA7D,SACE,eAAC,IAAD,Y,2PC9GGC,GAAwB,SAACtE,GACpC,IAAIuE,EAfO,CACTC,YAAa,CACXC,WAAY,CACVC,QAAS,MACTC,SAAU,QACVC,WAAY,QAGhBC,SAAU,IAQRC,EAAiB9E,EAAIC,KAAI,SAAA8E,GAC3B,MAAO,CACLxL,KAAM,UACNgB,KAAM,SACNsK,SAAU,CAAC,CAAEtL,KAAM,OAAQwI,KAAMgD,QAQrC,OALAR,EAAKM,SAASG,KAAK,CACjBzL,KAAM,UACNgB,KAAM,WACNsK,SAAUC,IAELP,G,yCCvBH5D,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCoE,aAAc,CACZlE,QAAS,OACTC,eAAgB,gBAChBC,QAAS,WAEXiE,GAAI,CACFC,YAAa,WAuBFC,OAnBf,YAAkH,IAAD,IAAzF7K,YAAyF,MAAlF,GAAkF,EAA9E8K,EAA8E,EAA9EA,SAAUC,EAAoE,EAApEA,MAAOC,EAA6D,EAA7DA,iBAAkBC,EAA2C,EAA3CA,YAAaC,EAA8B,EAA9BA,aAAcC,EAAgB,EAAhBA,aAEzFtD,EAAUzB,KAChB,OACE,uBAAK2C,UAAWlB,EAAQ6C,aAAxB,UACE,iCACE,eAACxB,EAAA,EAAD,CAAYH,UAAWlB,EAAQ8C,GAAI3B,QAAQ,QAAQoC,UAAU,OAA7D,SAAqEL,EAAQ,IAC7E,eAACM,GAAA,EAAD,CAAOjC,KAAK,QAAQkC,QAASR,IAAaC,EAAOQ,MAAOR,EAAOS,SAAU,kBAAMR,EAAiBD,MAChG,eAACU,GAAA,EAAD,CAAWC,MAAM,iBAAiBH,MAAOvL,EAAMhB,KAAK,OAAOgK,QAAQ,WAAWI,KAAK,QAAQoC,SAAU,SAAC5F,GAAD,OAAOqF,EAAYrF,EAAE+F,OAAOJ,MAAOR,UAExII,GACA,eAAChC,EAAA,EAAD,CAAY,aAAW,SAASnC,MAAM,YAAYoC,KAAK,QAAQC,QAAS,kBAAM6B,EAAaH,IAA3F,SACE,eAAC,KAAD,UCvBK5L,GAPA,CACXuC,IAAK,CACDkK,UAAW,EACXC,WAAY,ICgDLC,OA3Cf,YAAuC,IAAdC,EAAa,EAAbA,UAYjBlE,EAXYxB,aAAW,SAACC,GAAD,MAAY,CACvC0F,SAAU,CACRC,UAAW,QAEbC,UAAW,CACTxF,QAAS,WAEXyF,aAAc,CACZC,MAAO,UAGKhG,GAEhB,OACE,gBAACiG,GAAA,EAAD,CAAMC,MAAO,CAAEC,cAAe,EAAGN,UAAW,IAA5C,UACE,eAACO,GAAA,EAAD,CACEC,MAAK,iBACLC,qBAAsB,CACpB1D,QAAS,QAGb,gBAAC2D,GAAA,EAAD,WACGZ,EAAUrG,KAAI,SAACkH,EAAO7B,GAAR,OACb,sBAAKhC,UAAWlB,EAAQqE,UAAxB,SACE,eAACT,GAAA,EAAD,CACEC,MAAOkB,EAAMlB,MACb3C,UAAWlB,EAAQsE,aACnBnD,QAAQ,WACRI,KAAK,QACLmC,MAAOqB,EAAMrB,MACbC,SAAUoB,EAAMpB,YAPoBT,MAW1C,eAAC7B,EAAA,EAAD,CAAYF,QAAQ,YAAYhC,MAAM,gBAAgB+B,UAAWlB,EAAQmE,SAAzE,wDCVF5F,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCuG,UAAW,CACTrG,QAAS,OACTC,eAAgB,WAChBwF,UAAW,IAEba,UAAW,CACTC,OAAQ,YAEVC,MAAO,CACLxG,QAAS,YA6NEyG,OAxNf,WACE,MAA8BC,IAAMC,UAAS,GAA7C,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAgCH,IAAMC,SAAS,MAA/C,mBAAOG,EAAP,KAAiBC,EAAjB,KACA,EAAsCJ,mBAAS,IAA/C,mBAAOK,EAAP,KAAoBC,EAApB,KACMC,EAAaR,IAAMS,OAAO,MAC1BC,EAAiBV,IAAMS,OAAO,MAE9BvL,EAAWuF,YAAY5C,IACvBnF,EAAU+H,YAAY3C,IACtB7D,EAAUwG,YAAYxC,IACtBE,EAAWyC,cAEjBoF,IAAMnF,WAAU,WACd1C,EAAS9C,OACR,CAAC6K,IAEJF,IAAMnF,WAAU,WACd0F,EAAetM,KACd,CAACA,IAEJ,IAIM0M,EAAkB,WACtBN,EAAY,OAURO,EAAqB,SAAChO,GAC1B+N,IACAxI,EAASnC,EAAKtD,EAAQ2D,QAAO,SAACwK,EAAGC,GAAJ,OAAWA,IAAOlO,QA+B3CmO,EAAa,uCAAG,gCAAAxP,EAAA,sDACpB,IACEoP,IAGIK,EAAUC,GAFO,GACSvO,SAE1BwO,EAAMC,UAAeH,GACnBI,EAAO,IAAIC,KAAK,CAACH,GAAM,CAAEpP,KAAM,aAOf,SAACwP,EAAMC,GAC3B,IAAIC,EAAa,IAAIC,WACrBD,EAAWE,OAAS,SAAUhJ,GAAK6I,EAAS7I,EAAE+F,OAAOkD,SACrDH,EAAWI,cAAcN,GAG3BO,CAAcT,GAAM,SAACU,GACnBpB,EAAeqB,QAAQrF,KAAOoF,EAC9BpB,EAAeqB,QAAQC,UAAYF,EACnCpB,EAAeqB,QAAQE,SAAW,eAClCvB,EAAeqB,QAAQG,WAEzB,MAAOxJ,GACP9G,QAAQC,MAAM6G,GA3BI,2CAAH,qDA+BbyJ,EAAU,SAAC9D,EAAOzL,GACtB,IAAMwP,EAAW1P,EAAQ8F,KAAI,SAAC6J,EAAGvB,GAC/B,OAAIA,IAAOlO,EAAUyL,EACdgE,KAETlK,EAASnC,EAAKoM,KAGVE,EAAqB,SAACvQ,EAAKsM,GAC/B,IAAMkE,EAAY,eAAOjC,GAIzBjC,EADoB9J,KAAKC,IAAI,EAAG6J,EAAMhG,QADpB,GAEgBgG,EAAMmE,MAAM,EAF5B,IAE4CnE,EAC9DkE,EAAaxQ,GAAOsM,EACpBkC,EAAegC,IAGXzE,EAAmB,SAACO,GACxBlG,EAASlC,EAASoI,KAGdoE,EAAU,uCAAG,sBAAAlR,EAAA,sDACjB4G,EAASjB,GAAiBoJ,IAC1BnI,EAASY,GAAa,CACpBrG,UAASwC,WAAUjB,QAASqM,KAE9BoC,MAAM,qBALW,2CAAH,qDAqBVC,EATe,WACnB,IAAQjE,EAAckE,GAAapO,IAA3BkK,UAER,OADUhM,EAAQ2F,SACRqG,EACD,aAEF,cAGSmE,GACZlI,EAAUzB,KACV4J,EAAW,CACf,CAAEvD,MAAO,MAAOwD,KAAM,eAAC,KAAD,CAAgBlJ,SAAS,UAAY/D,OArHrC,WACtB6K,IACIjO,EAAQ2F,OAASuK,GAAapO,IAAIkK,WACpCvG,EAASnC,EAAK,GAAD,mBAAKtD,GAAL,CAAc,QAkHuDsQ,SAAUtQ,EAAQ2F,QAAUuK,GAAapO,IAAIkK,WACjI,CAAEa,MAAO,aAAcwD,KAAM,eAAC,KAAD,CAAYlJ,SAAS,UAAY/D,OA1G1C,WACpB0K,EAAWuB,QAAQG,UA0GnB,CAAE3C,MAAO,SAAUwD,KAAM,eAAC,KAAD,CAAYlJ,SAAS,UAAY/D,OAAQiL,EAAeiC,UAAU,EAAM1J,SAAS,IAEtG2J,EAAa,CACjB,CAAEzE,MAAO,UAAWH,MAAOiC,EAAYpM,OAAQoK,SAAU,SAAC5F,GAAD,OAAO4J,EAAmB,SAAU5J,EAAE+F,OAAOJ,SACtG,CAAEG,MAAO,SAAUH,MAAOiC,EAAYnM,MAAOmK,SAAU,SAAC5F,GAAD,OAAO4J,EAAmB,QAAS5J,EAAE+F,OAAOJ,SACnG,CAAEG,MAAO,SAAUH,MAAOiC,EAAYlM,MAAOkK,SAAU,SAAC5F,GAAD,OAAO4J,EAAmB,QAAS5J,EAAE+F,OAAOJ,SACnG,CAAEG,MAAO,SAAUH,MAAOiC,EAAYjM,MAAOiK,SAAU,SAAC5F,GAAD,OAAO4J,EAAmB,QAAS5J,EAAE+F,OAAOJ,UAGrG,OACE,iCACE,gBAACc,GAAA,EAAD,CAAMC,MAAO,CAAEC,cAAe,GAA9B,UACE,eAACC,GAAA,EAAD,CACExJ,OACE,eAACmG,EAAA,EAAD,CAAYE,QA7IE,SAACpB,GACvBsF,EAAYtF,EAAMmI,gBA4I4B,gBAAc,cAAc,gBAAc,OAAO,aAAW,OAAlG,SACE,eAAC,KAAD,MAGJ3D,MAAK,UAAKoD,GACVnD,qBAAsB,CACpB1D,QAAS,MAEXqH,UAAU,uCAEZ,eAACC,GAAA,EAAD,CACEC,GAAG,cACHjD,SAAUA,EACVkD,aAAW,EACX3G,KAAM4G,QAAQnD,GACdoD,QAAS7C,EALX,SAOGmC,EAAStK,KAAI,SAACiL,EAAK7Q,GAClB,YAAwB+D,IAAhB8M,EAAInK,SAAwBmK,EAAInK,QACtC,gBAACoK,GAAA,EAAD,CAEEvH,QAASsH,EAAI3N,OACbkN,cAA2BrM,IAAjB8M,EAAIT,UAAyBS,EAAIT,SAH7C,UAKE,eAACW,GAAA,EAAD,UAAeF,EAAIV,OACnB,eAACa,GAAA,EAAD,CAAcC,QAASJ,EAAIlE,UALtB3M,GAOJ,QAGT,eAAC6M,GAAA,EAAD,UACG/M,EAAQ8F,KAAI,SAACsL,EAAGlR,GAAJ,OACX,eAAC,GAAD,CAEEgL,SAAU1I,EACV2I,MAAOjL,EACPE,KAAMgR,EACNhG,iBAAkBA,EAClBC,YAAaoE,EACbnE,aAAc4C,EACd3C,aAAcvL,EAAQ2F,QAAU,GAP3BzF,WAYb,eAAC,GAAD,CAAeiM,UAAWoE,IAC1B,uBAAKpH,UAAWlB,EAAQgF,UAAxB,UACE,eAACoE,GAAA,EAAD,CAAQjI,QAAQ,YAAYhC,MAAM,YAAY+B,UAAWlB,EAAQiF,UAAWzD,QA/E9D,WAClBgE,GAAW,SAAA6D,GAAI,OAAKA,MA8EhB,mBACA,eAACD,GAAA,EAAD,CAAQjI,QAAQ,YAAYhC,MAAM,UAAUqC,QAASsG,EAArD,qBAEF,wBAAO3Q,KAAK,OAAOuR,GAAG,SAASY,IAAKzD,EAAY3E,UAAWlB,EAAQmF,MAAOxB,SAvKzD,SAACvD,GACpBA,EAAMmJ,kBACNnJ,EAAMoJ,iBACNxD,IACA,IAAIS,EAAOrG,EAAM0D,OAAO2F,MAAM,GAC1BC,EAAS,IAAI5C,WACjB4C,EAAO3C,OAAS,SAAU3G,GACxB,IAEE,IAAMmG,EAAMnG,EAAM0D,OAAOkD,OACrBA,EAASR,UAAeD,GAC5B,IAAKS,EAAQ,KAAK,oDAAL,OAA0DA,GACvE,IACIS,EADiBT,EAAOvE,SAAS,GAAGA,SACV5E,KAAI,SAAA8E,GAAI,OAAIA,EAAKF,SAAS,GAAG9C,QAC3DnC,EAASnC,EAAKoM,IACd,MAAO1J,GACPgK,MAAM,6CACN9Q,QAAQC,MAAM6G,KAIlB2L,EAAOC,WAAWlD,IAkJkFjF,QAAS,SAAAzD,GAAC,OAAKA,EAAE+F,OAAOJ,MAAQ,Y,UCjOzHkG,OA7Bf,WACE,IAKM5J,EALYxB,aAAW,SAACC,GAAD,MAAY,CACvC0F,SAAU,CACRC,UAAW,WAGC7F,GAChB,OACE,+BACE,eAACiG,GAAA,EAAD,CAAMC,MAAO,CAAEC,cAAe,GAA9B,SACE,gBAACI,GAAA,EAAD,WACE,eAACzD,EAAA,EAAD,CAAYF,QAAQ,KAAKhC,MAAM,gBAA/B,0BACA,gBAACkC,EAAA,EAAD,CAAYF,QAAQ,YAAYhC,MAAM,gBAAtC,0BACe,eAAC0K,GAAA,EAAD,CAAM1K,MAAM,UAAU2K,UAAU,OAAO/H,KAAK,+DAA+D+B,OAAO,SAAlH,oBADf,OAGA,eAACzC,EAAA,EAAD,CAAYF,QAAQ,KAAKhC,MAAM,gBAAgB+B,UAAWlB,EAAQmE,SAAlE,oBACA,eAAC9C,EAAA,EAAD,CAAYF,QAAQ,YAAYhC,MAAM,gBAAtC,wHAGA,eAAC0K,GAAA,EAAD,CAAMC,UAAU,OAAO/H,KAAK,wCAAwC+B,OAAO,SAA3E,mDACA,eAACzC,EAAA,EAAD,CAAYF,QAAQ,YAAYhC,MAAM,gBAAgB+B,UAAWlB,EAAQmE,SAAzE,0C,oBCoFK4F,OA5Ff,WACE,MAAwBzE,mBAAS,IAAjC,mBAAO3F,EAAP,KAAaqK,EAAb,KACMxM,EAAWyC,cAkBXD,EAhBYxB,aAAW,SAACC,GAAD,MAAY,CACvC0F,SAAU,CACRC,UAAW,QAEbY,UAAW,CACTrG,QAAS,OACTC,eAAgB,SAChBwF,UAAW,IAEba,UAAW,CACTC,OAAQ,YAEV+E,YAAa,CACX1F,MAAO,WAGKhG,GAuBV2L,EAAY,uCAAG,oCAAAtT,EAAA,sEAEYsC,EAAM0B,QAAQ,QAF1B,OAEXuP,EAFW,OAGb1C,EAAW0C,EAAepS,QAC1BsO,EAAUC,GAAkCmB,GAC5ClB,EAAMC,UAAeH,GACnB+D,EAAUC,KAASC,8BAA8B/D,GACvDyD,EAAQI,GAPS,2CAAH,qDAWlB,OACE,+BACE,gBAAC5F,GAAA,EAAD,CAAMC,MAAO,CAAEC,cAAe,GAA9B,UACE,eAACC,GAAA,EAAD,CACEC,MAAK,kBACLC,qBAAsB,CACpB1D,QAAS,QAIb,gBAAC2D,GAAA,EAAD,WACE,eAAClB,GAAA,EAAD,CACE8E,GAAG,eACH7E,MAAM,kBACN0G,WAAS,EACTC,KAAM,GACNtJ,UAAWlB,EAAQiK,YACnB9I,QAAQ,WACRI,KAAK,QACLmC,MAAO/D,EACPgE,SAnDS,SAAC5F,GAClBiM,EAAQjM,EAAE+F,OAAOJ,OACjBzM,QAAQmF,IAAIuD,MAmDN,uBAAKuB,UAAWlB,EAAQgF,UAAxB,UACE,eAACoE,GAAA,EAAD,CAAQjI,QAAQ,YAAYhC,MAAM,YAAY+B,UAAWlB,EAAQiF,UAAWzD,QAjDjE,WACnB,IACE,IAAM+E,EAAM8D,KAASI,kCAAkC9K,GACnDqH,EAASR,UAAeD,GAC5B,IAAKS,EAAQ,KAAK,kDAAL,OAAwDA,GACrE,IACIjP,EADiBiP,EAAOvE,SAAS,GAAGA,SACX5E,KAAI,SAAA8E,GAAI,OAAIA,EAAKF,SAAS,GAAG9C,QAC1DnC,EAASY,GAAa,CAAErG,aACxBgQ,MAAM,wBACN,MAAOhK,GACPgK,MAAM,oCACN9Q,QAAQC,MAAM6G,KAsCR,oBACA,eAACqL,GAAA,EAAD,CAAQjI,QAAQ,YAAYhC,MAAM,UAAUqC,QAAS0I,EAArD,uBAEF,eAAC7I,EAAA,EAAD,CAAYF,QAAQ,YAAYhC,MAAM,gBAAgB+B,UAAWlB,EAAQmE,SAAzE,0DAGA,eAAC9C,EAAA,EAAD,CAAYF,QAAQ,YAAYhC,MAAM,gBAAtC,iE,gCCxFV,SAASuL,GAASC,GAChB,IAAQC,EAAqCD,EAArCC,SAAUlH,EAA2BiH,EAA3BjH,MAAOR,EAAoByH,EAApBzH,MAAU2H,EAAnC,aAA6CF,EAA7C,IAEA,OACE,8CACEG,KAAK,WACLC,OAAQrH,IAAUR,EAClBwF,GAAE,8BAAyBxF,GAC3B,2CAAmCA,IAC/B2H,GALN,aAOGnH,IAAUR,GACT,eAAC8H,GAAA,EAAD,CAAK9E,EAAG,EAAR,SACG0E,OAOX,SAASK,GAAU/H,GACjB,MAAO,CACLwF,GAAG,kBAAD,OAAoBxF,GACtB,gBAAgB,uBAAhB,OAAwCA,IAyE7BgI,OArEf,WACE,IAAMzM,EAAQ0M,eAsBRnL,EArBYxB,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJI,WAAYL,EAAMW,QAAQN,WAAWsM,QACrCC,OAAQ,WAcVC,SAAU,CACRD,OAAQ,YAGI9M,GAChB,EAA0B8G,IAAMC,SAAS,GAAzC,mBAAO5B,EAAP,KAAc6H,EAAd,KAUA,OACE,uBAAKrK,UAAWlB,EAAQtB,KAAxB,UACE,eAAC8M,GAAA,EAAD,CAAQlQ,SAAS,SAAS6D,MAAM,UAAhC,SACE,gBAACsM,GAAA,EAAD,CACE/H,MAAOA,EACPC,SAba,SAACvD,EAAOsL,GAC3BH,EAASG,IAaHC,eAAe,UACfC,UAAU,UACVzK,QAAQ,YACR,aAAW,0BANb,UAQE,eAAC0K,GAAA,EAAD,aAAKhI,MAAM,WAAcoH,GAAU,KACnC,eAACY,GAAA,EAAD,aAAKhI,MAAM,iBAAoBoH,GAAU,KACzC,eAACY,GAAA,EAAD,aAAKhI,MAAM,SAAYoH,GAAU,UAGrC,gBAAC,KAAD,CAEE/H,MAAOQ,EACPoI,cAvBoB,SAAC5I,GACzBqI,EAASrI,IAmBP,UAKE,eAACwH,GAAD,CAAUhH,MAAOA,EAAOR,MAAO,EAAG6I,IAAKtN,EAAMuN,UAAW9K,UAAWlB,EAAQsL,SAA3E,SACE,eAAC,GAAD,MAEF,eAACZ,GAAD,CAAUhH,MAAOA,EAAOR,MAAO,EAAG6I,IAAKtN,EAAMuN,UAAW9K,UAAWlB,EAAQsL,SAA3E,SACE,eAAC,GAAD,MAEF,eAACZ,GAAD,CAAUhH,MAAOA,EAAOR,MAAO,EAAG6I,IAAKtN,EAAMuN,UAAW9K,UAAWlB,EAAQsL,SAA3E,SACE,eAAC,GAAD,aC1EKW,OAlBf,WAEE,OACE,qCACE,eAAC,IAAD,UACE,gBAAC,IAAD,WACE,eAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAlB,SACE,eAAC,GAAD,MAEF,eAAC,IAAD,CAAOA,KAAK,YAAZ,SACE,eAAC,GAAD,cCfCvT,GAAQwT,YAAe,CAClCC,QAAS,CACPxR,KAAMyR,IAERC,WAAY,SAACC,GAAD,OAA0BA,IAAuBC,OAAO3P,IAAU4P,sB,OCEhF5P,IAAU6P,KAAK,sBAEf,IAAMlO,GAAQmO,YAAY,CACxBxN,QAAS,CACPjI,KAAM,UAIV0V,IAASC,OACP,eAAC,IAAMC,WAAP,UACE,gBAACC,EAAA,EAAD,CAAevO,MAAOA,GAAtB,UACE,eAACwO,EAAA,EAAD,IACA,eAAC,IAAD,CAAUrU,MAAOA,GAAjB,SACE,eAAC,GAAD,WAINsU,SAASC,eAAe,W","file":"static/js/main.3271776f.chunk.js","sourcesContent":["\n\nexport const connect = (listeners) => {\n  try {\n    listeners.forEach(listener => {\n      window.addOverlayListener(listener.name, (e) => listener.event(e))\n    })\n    window.startOverlayEvents()\n    console.log(\"Started Overlay plugin\")\n  } catch (e) {\n    console.error(\"Must import Overlay Plugin CDN\")\n    console.error(e)\n  }\n}\n\nexport const disconnect = (listeners) => {\n  try {\n    listeners.forEach(listener => {\n      window.removeOverlayListener(listener.name, (e) => listener.event(e))\n    })\n    console.log(\"Stopped Overlay plugin\")\n  } catch (e) {\n    console.error(\"Must import Overlay Plugin CDN\")\n    console.error(e)\n  }\n}\n\nexport const tts = async (msg) => {\n  try {\n    const call = createMessage('say', 'text', msg)\n    await window.callOverlayHandler(call)\n    return true\n  } catch (e) {\n    console.error(e)\n    return false\n  }\n}\n\nexport const createMessage = (type, key, data) => {\n  const call = {\n    call: type,\n    [key]: data,\n    key, data\n  }\n  return call\n}","\nconst config = {\n    gaolRegex: /\\|(.*)?\\|2B6(B|C)\\|.*?\\|.*?\\|/,\n    nameRegex: /2B6(B|C)\\|.*?\\|.*?\\|[A-Za-z ]+/,\n    testRegex: /(.*)?(#-135-).*?/,\n    testNameRegex: /#-135-[A-Za-z ]+/\n}\n\nexport default config","import RegexConfig from '../../config/regex'\n\nconst regex = RegexConfig.gaolRegex\nconst regexTest = RegexConfig.testRegex\nconst nameRegex = RegexConfig.nameRegex\nconst testNameRegex = RegexConfig.testNameRegex\n\n\n\n/**\n * Issue: Cannot use global \"g\" flag in Regex because will use lastIndex\n * So, testing will be wrong result in some case.\n * var re = /^a/g;\n * re.test(\"ab\") // true, lastIndex was 0\n * re.test(\"ab\") // false, lastIndex was 1\n * https://stackoverflow.com/a/6891667\n * \n * @param {String} str rawLine\n * @returns Array\n */\nexport const isGaolLog = (str) => regex.test(str) || regexTest.test(str)\n\nexport const getPlayerFromRaw = (players, rawLine) => {\n  const i = players.findIndex(name => rawLine.includes(name))\n  return [i, i > -1] // player name, index, is found\n}\n\nexport const getGaolOrderByMe = (me, gaoled) => {\n  let order = -1\n  let arr = gaoled.map(i => i)\n  arr.sort(sortByASC)\n  order = arr.findIndex(e => e === me) + 1\n  return [order, order > -1]\n}\n\nexport const sortByASC = (a, b) => a - b\n\nexport const getNameFromRaw = (rawLine) => {\n  let match = rawLine.match(nameRegex)\n  let testMatch = rawLine.match(testNameRegex)\n  if (match) {\n    const name = match[0].split('|').pop()\n    return name\n  } else if (testMatch) {\n    const name = testMatch[0].split('-').pop()\n    return name\n  }\n  return null\n}","import * as localForage from \"localforage\"\n\nconst store = localForage.createInstance({\n    name: \"gaoloverlay\"\n});\n\nexport default store","import local from '../../plugins/localForage'\n\nexport function fetchUserConfig() {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const gaol = await local.getItem('gaol')\n      resolve(gaol || {})\n    } catch (e) {\n      reject(e)\n    }\n  });\n}\n\nexport function updateUserConfig(config) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      await local.setItem('gaol', { ...config })\n      resolve(true)\n    } catch (e) {\n      reject(e)\n    }\n  });\n}\n","\n\nconst config = {\n    players: [],\n    meIndex: -1,\n    countMatch: 3,\n    message: {\n        nogaol: \"Eating Titan's ass\",\n        gaol1: \"1\",\n        gaol2: \"2\",\n        gaol3: \"3\",\n    },\n    gaolLTE: Math.max(0, process.env.REACT_APP_GAOL_LTE || 3000),\n    gaolResetLTE: Math.max(0, process.env.REACT_APP_GAOL_RESET || 10000),\n}\n\nexport default config","import DefaultGaolConfig from '../config/gaol'\n\n// x is 0, 1, 2, 3\nexport const getStringFromMessage = (message, x) => {\n  let str = ''\n  switch (x) {\n    case 3:\n      str = message.gaol3 || DefaultGaolConfig.message.gaol3\n      break\n    case 2:\n      str = message.gaol2 || DefaultGaolConfig.message.gaol2\n      break\n    case 1:\n      str = message.gaol1 || DefaultGaolConfig.message.gaol1\n      break\n    case 0:\n      str = message.nogaol || DefaultGaolConfig.message.nogaol\n      break\n  }\n  \n  return str\n}\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { fetchUserConfig as fetchUserConfigAPI, updateUserConfig as updateUserConfigAPI } from './gaolAPI';\nimport LogRocket from 'logrocket'\nimport * as gaolService from './gaolService'\nimport * as gaolAdaper from './gaolAdapter'\nimport DefaultGaolConfig from '../../config/gaol'\nimport * as GaolHelper from '../../utils/gaol-helper'\n\nconst initialState = {\n  number: -1,\n  players: [],\n  gaoledPlayers: [],\n  myNumber: -1,\n  nog: 3,\n  status: 'ready',\n  error: '',\n  message: DefaultGaolConfig.message,\n};\n\nconst isExpire = (timestamp) => new Date() > new Date(timestamp)\n\n// The function below is called a thunk and allows us to perform async logic. It\n// can be dispatched like a regular action: `dispatch(incrementAsync(10))`. This\n// will call the thunk with the `dispatch` function as the first argument. Async\n// code can then be executed and other actions can be dispatched. Thunks are\n// typically used to make async requests.\nexport const fetchUserConfig = createAsyncThunk(\n  'gaol/fetchUserConfig',\n  async () => {\n    const config = await fetchUserConfigAPI()\n    // The value we return becomes the `fulfilled` action payload\n    return config\n  }\n);\n\nexport const gaolSlice = createSlice({\n  name: 'gaol',\n  initialState,\n  // The `reducers` field lets us define reducers and generate associated actions\n  reducers: {\n    order: (state, action) => {\n      state.number = action.payload;\n    },\n    form: (state, action) => {\n      state.players = action.payload;\n    },\n    position: (state, action) => {\n      state.myNumber = action.payload;\n    },\n    error: (state, action) => {\n      state.error = action.payload;\n    },\n    appendGaoledPlayer: (state, action) => {\n      const iplayer =  action.payload\n      \n      // filter out gaol that expired.\n      // prevent unexpected gaol such as header's gaol\n      // wrong case: 5 = healer, [6, 4, 2] = next gaol. Thus, gaol will be [5, 6, 4] instead of [6, 4, 2].\n      const gaoled = state.gaoledPlayers.filter(gp => !isExpire(gp.lte))\n      // prevent duplicate\n      const duplicate = gaoled.find(gp => gp.iplayer === iplayer) !== undefined\n      const newItem = { iplayer, lte: new Date().getTime() + DefaultGaolConfig.gaolLTE }\n      state.gaoledPlayers = !duplicate ? [...gaoled, newItem] : gaoled\n      if (duplicate) {\n        console.log(new Date().toLocaleString(), 'Duplicate player on gaol', iplayer)\n      }\n    },\n    resetGaoledPlayer: (state) => {\n      state.gaoledPlayers = []\n    },\n    setCustomMessage: (state, action) => {\n      state.message = action.payload\n    },\n  },\n  // The `extraReducers` field lets the slice handle actions defined elsewhere,\n  // including actions generated by createAsyncThunk or in other slices.\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchUserConfig.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(fetchUserConfig.fulfilled, (state, action) => {\n        // Default or User\n        // Initial setting default config\n        const players = action.payload.players\n        const myNumber = action.payload.myNumber\n        state.status = 'ready';\n        state.players = players || state.players\n        state.myNumber = myNumber !== undefined ? myNumber : state.myNumber\n        if (action.payload.message) state.message = action.payload.message\n\n        // identify user for LogRocket\n        if (players && myNumber !== undefined && myNumber >= 0) {\n          const logDisplayName = players[myNumber] || 'unselect-index'\n          LogRocket.identify(`#${myNumber}-${logDisplayName}`)\n        }\n      });\n  },\n});\n\nexport const { order, form, position, error, appendGaoledPlayer, resetGaoledPlayer, setCustomMessage } = gaolSlice.actions;\n\n// The function below is called a selector and allows us to select a value from\n// the state. Selectors can also be defined inline where they're used instead of\n// in the slice file. For example: `useSelector((state: RootState) => state.counter.value)`\nexport const selectNumber = (state) => state.gaol.number;\nexport const selectMyNumber = (state) => state.gaol.myNumber;\nexport const selectPlayers = (state) => state.gaol.players;\nexport const selectGaoledPlayers = (state) => state.gaol.gaoledPlayers;\nexport const selectError = (state) => state.gaol.error;\nexport const selectMessage = (state) => state.gaol.message;\n\n\n// We can also write thunks by hand, which may contain both sync and async logic.\n// Here's an example of conditionally dispatching actions based on current state.\n/**\n * \n * Raw line examples:\n * 15|4001641A|Titan|2B6C|Rock Throw|10334A83|Windie Likesakiii|0|0|0|0|0|0|0|0|0|0|0|0|0|0|0|0|42891|50096|9336|10000|0|1000|97.37081|113.451|-0.01279504|-3.055689|2675710|4476950|0|10000|0|1000|113.7886|86.21142|-1.378858E-12|-0.7854581|00008C59|0\n * 15|4001641B|Titan|2B6C|Rock Throw|10264B3D|Anger Shana|0|0|0|0|0|0|0|0|0|0|0|0|0|0|0|0|75033|75033|10000|10000|0|1000|96.35912|113.5649|-0.002290758|3.081287|2675710|4476950|0|10000|0|1000|116.7683|99.91648|-8.35191E-15|-1.48065|00008C5A|0\n * 15|40016420|Titan|2B6B|Rock Throw|1032B65A|Zengoku Mustard|0|0|0|0|0|0|0|0|0|0|0|0|0|0|0|0|45764|54967|10000|10000|0|1000|96.73949|114.1539|-0.001052974|-1.584579|3155300|4607480|10000|10000|0|1000|100|86|-1.4E-12|-4.792213E-05|00008C5B|0\n * @param {*} param0 data\n * @returns false | void\n */\nexport const updateGaol = (rawLine) => (dispatch, getState) => {\n  const { getNameFromRaw, getPlayerFromRaw } = gaolService\n  const players = selectPlayers(getState())\n  const [i, isFound] = getPlayerFromRaw(players, rawLine)\n  if (!isFound) {\n    dispatch(resetGaoledPlayer())\n    const name = getNameFromRaw(rawLine)\n    if (name) {\n      dispatch(error(`${name} isn't in the party.`))\n      setTimeout(() => dispatch(error('')), 3000)\n    }\n    return\n  }\n  \n  const gaoledPlayers = selectGaoledPlayers(getState())\n  if (gaoledPlayers.length >= 3) {\n    dispatch(resetGaoledPlayer())\n    console.log(new Date().toLocaleString(), 'uncommon event', rawLine)\n  }\n\n  dispatch(appendGaoledPlayer(i))\n  dispatch(orderGaol())\n}\n\nexport const orderGaol = () => (dispatch, getState) => {\n  const gaoledPlayers = selectGaoledPlayers(getState())\n  if (gaoledPlayers.length === 3) {\n    const myNumber = selectMyNumber(getState())\n    let [number] = gaolService.getGaolOrderByMe(myNumber, gaoledPlayers.map(gp => gp.iplayer))\n    console.log(new Date().toLocaleString(), gaoledPlayers.map(gp => ({...gp, lte: new Date(gp.lte).toLocaleString()})), number)\n\n    // tts gaol temp.\n    const message = selectMessage(getState())\n    const msg = GaolHelper.getStringFromMessage(message, number)\n    if (msg) {\n      gaolAdaper.tts(msg)\n    } else {\n      dispatch(error(`Alert message is invalid.`))\n      setTimeout(() => dispatch(error('')), 10000)\n    }\n\n    setTimeout(() => {\n      dispatch(resetGaoledPlayer())\n      dispatch(order(-1))\n    }, DefaultGaolConfig.gaolResetLTE)\n    dispatch(order(number))\n  }\n}\n\nexport const updateConfig = ({\n  players,\n  myNumber = initialState.myNumber,\n  message = null,\n}) => async (dispatch) => {\n  const configObj = { players, myNumber }\n  if (message) configObj.message = message\n  await updateUserConfigAPI(configObj)\n}\n\nexport default gaolSlice.reducer;\n","import { useEffect, useCallback } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport IconButton from '@material-ui/core/IconButton'\nimport SettingsIcon from '@material-ui/icons/Settings'\nimport { Paper, Typography } from '@material-ui/core'\nimport { alpha, makeStyles } from '@material-ui/core/styles'\nimport Countdown from 'react-countdown'\n\nimport { connect as gaolConnect, disconnect as gaolDisconnect } from \"./gaolAdapter\"\nimport * as gaolService from './gaolService'\nimport {\n  selectNumber,\n  fetchUserConfig,\n  updateGaol,\n  selectError,\n  selectMessage,\n} from './gaolSlice'\nimport * as GaolHelper from '../../utils/gaol-helper'\nimport DefaultGaolConfig from '../../config/gaol'\nimport './Gaol.css'\n\n\nconst useStyles = makeStyles((theme) => {\n  return {\n    root: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      padding: '5px 8px',\n      background: alpha('#000000', 0.5),\n      // background: alpha(theme.palette.background.default, 0.8),\n      // borderRadius: '10%',\n    },\n    msgRoot: {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n    },\n    msg: {\n      fontSize: '9px',\n    },\n    order: {\n      color: theme.palette.success.main,\n    },\n    timer: {\n      fontSize: '10px',\n    },\n    paper: {\n      padding: theme.spacing(2),\n      textAlign: 'center',\n      color: theme.palette.text.secondary,\n    },\n  }\n});\n\nfunction Gaol() {\n  const number = useSelector(selectNumber)\n  const errorMsg = useSelector(selectError)\n  const message = useSelector(selectMessage)\n  const classes = useStyles();\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(fetchUserConfig())\n    const listeners = [\n      { name: 'LogLine', event: gaolEvent },\n    ]\n    gaolConnect(listeners)\n    return () => gaolDisconnect(listeners)\n  }, [])\n\n  const gaolEvent = useCallback((data) => {\n    const { rawLine } = data\n    if (!gaolService.isGaolLog(rawLine)) return\n    dispatch(fetchUserConfig()).then(() => {\n      dispatch(updateGaol(rawLine))\n    })\n  }, [])\n\n\n  const openWindowSetting = () => {\n    let querystring = String(window.location.search)\n    let joiner = (querystring.indexOf(\"?\") !== -1) ? \"&\" : \"?\"\n    querystring = `${querystring}${joiner}`\n    let href = window.location.href\n    window.open(`${href}settings`, \"\", \"width=620,height=840,location=no,menubar=yes\");\n  }\n\n  const toNumberString = () => {\n    if (number > -1) {\n      return GaolHelper.getStringFromMessage(message, number) || 'N/A'\n    }\n    return \"N/A\"\n  }\n\n  const isCountdown = () => {\n    if (number > -1) {\n      return true\n    }\n    return false\n  }\n\n\n  return (\n    <Paper className={classes.root} variant=\"outlined\" elevation={3}>\n      <div className={classes.msgRoot}>\n        <Typography variant=\"subtitle1\">\n          Gaol:\n          <span> </span>\n          <span className={classes.order}>{toNumberString()}</span>\n          <span> </span>\n          {/* {isCountdown() && (\n            <Countdown\n              date={Date.now() + DefaultGaolConfig.gaolResetLTE}\n              intervalDelay={0}\n              precision={2}\n              renderer={props => (\n                <Typography variant=\"subtitle1\" className={classes.timer} display=\"inline\">\n                  {`${props.seconds}.${props.milliseconds}`}\n                </Typography>\n              )}\n            />\n          )} */}\n        </Typography>\n        <Typography variant=\"body2\" className={classes.msg} color=\"error\">{errorMsg || ''}</Typography>\n      </div>\n      <div>\n        <IconButton aria-label=\"setting\" size=\"small\" onClick={() => openWindowSetting()}>\n          <SettingsIcon />\n        </IconButton>\n      </div>\n    </Paper>\n  );\n}\n\nexport default Gaol;\n","\n\nexport const getInitialJsonXML = () => {\n  let json = {\n    declaration: {\n      attributes: {\n        version: \"1.0\",\n        encoding: \"utf-8\",\n        standalone: \"yes\"\n      }\n    },\n    elements: [],\n  }\n\n  return json\n}\n\nexport const array2PriorityJsonXML = (arr) => {\n  let json = getInitialJsonXML()\n  let playerElements = arr.map(item => {\n    return {\n      type: \"element\",\n      name: \"Player\",\n      elements: [{ type: \"text\", text: item }]\n    }\n  })\n  json.elements.push({\n    type: \"element\",\n    name: \"Priority\",\n    elements: playerElements,\n  })\n  return json\n}","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport TextField from '@material-ui/core/TextField'\nimport Radio from '@material-ui/core/Radio'\nimport IconButton from '@material-ui/core/IconButton'\nimport DeleteIcon from '@material-ui/icons/Delete'\n\nconst useStyles = makeStyles((theme) => ({\n  characterRow: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    padding: '7px 6px',\n  },\n  no: {\n    marginRight: '6px',\n  }\n}));\n\nfunction CharacterRow({ name = \"\", selectMe, index, onChangeSelectMe, onTextInput, removeHandle, hiddenAction }) {\n\n  const classes = useStyles();\n  return (\n    <div className={classes.characterRow}>\n      <div>\n        <Typography className={classes.no} variant=\"body2\" component=\"span\">{index + 1}</Typography>\n        <Radio size=\"small\" checked={selectMe === index} value={index} onChange={() => onChangeSelectMe(index)} />\n        <TextField label=\"Character Name\" value={name} type=\"text\" variant=\"outlined\" size=\"small\" onChange={(e) => onTextInput(e.target.value, index)} />\n      </div>\n      {!hiddenAction && (\n        <IconButton aria-label=\"remove\" color=\"secondary\" size=\"small\" onClick={() => removeHandle(index)}>\n          <DeleteIcon />\n        </IconButton>\n      )}\n    </div>\n  )\n}\n\nexport default CharacterRow","\nconst config = {\n    max: {\n        fullParty: 8,\n        lightParty: 4,\n    }\n}\n\nexport default config","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardContent from '@material-ui/core/CardContent'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\n\n\nfunction CustomMessage({ inputList }) {\n  const useStyles = makeStyles((theme) => ({\n    spaceTop: {\n      marginTop: '30px',\n    },\n    inputRoot: {\n      padding: '7px 6px',\n    },\n    inputMessage: {\n      width: '75%',\n    },\n  }))\n  const classes = useStyles()\n\n  return (\n    <Card style={{ paddingBottom: 0, marginTop: 20 }}>\n      <CardHeader\n        title={`Custom Message`}\n        titleTypographyProps={{\n          variant: 'h6',\n        }}\n      />\n      <CardContent>\n        {inputList.map((input, index) => (\n          <div className={classes.inputRoot} key={index}>\n            <TextField\n              label={input.label}\n              className={classes.inputMessage}\n              variant=\"outlined\"\n              size=\"small\"\n              value={input.value}\n              onChange={input.onChange}\n            />\n          </div>\n        ))}\n        <Typography variant=\"subtitle2\" color=\"textSecondary\" className={classes.spaceTop}>\n          - The message is upto 20 characters\n        </Typography>\n      </CardContent>\n    </Card>\n  )\n}\n\nexport default CustomMessage","import React, { useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardContent from '@material-ui/core/CardContent'\nimport IconButton from '@material-ui/core/IconButton'\nimport MoreVertIcon from '@material-ui/icons/MoreVert'\nimport LibraryAddIcon from '@material-ui/icons/LibraryAdd'\nimport GetAppIcon from '@material-ui/icons/GetApp'\nimport BackupIcon from '@material-ui/icons/Backup'\nimport { Button } from '@material-ui/core'\nimport Menu from '@material-ui/core/Menu'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport * as convert from 'xml-js'\n\nimport * as utilConvert from '../../utils/xml-js'\nimport CharacterRow from './CharacterRow'\nimport * as Config from '../../config'\nimport {\n  form,\n  position,\n  selectPlayers,\n  fetchUserConfig,\n  updateConfig,\n  selectMyNumber,\n  selectMessage,\n  setCustomMessage,\n} from '../../features/gaol/gaolSlice'\nimport CustomMessage from './CustomMessage'\n\n\nconst useStyles = makeStyles((theme) => ({\n  actionDiv: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n    marginTop: 10,\n  },\n  cancelBtn: {\n    margin: '0px 10px',\n  },\n  dnone: {\n    display: 'none'\n  },\n}));\n\n\nfunction PartyPanel() {\n  const [isReset, setIsReset] = React.useState(false)\n  const [anchorEl, setAnchorEl] = React.useState(null)\n  const [tempMessage, setTempMessage] = useState({})\n  const importFile = React.useRef(null)\n  const tempExportLink = React.useRef(null)\n\n  const myNumber = useSelector(selectMyNumber)\n  const players = useSelector(selectPlayers)\n  const message = useSelector(selectMessage)\n  const dispatch = useDispatch()\n\n  React.useEffect(() => {\n    dispatch(fetchUserConfig())\n  }, [isReset])\n  \n  React.useEffect(() => {\n    setTempMessage(message)\n  }, [message])\n\n  const handleMenuClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n\n  const newMemberHandle = () => {\n    handleMenuClose()\n    if (players.length < Config.party.max.fullParty) {\n      dispatch(form([...players, \"\"]))\n    }\n  }\n\n  const removeMemberHandle = (i) => {\n    handleMenuClose()\n    dispatch(form(players.filter((p, pi) => pi !== i)))\n  }\n\n  const onCLickImport = () => {\n    importFile.current.click()\n  }\n\n  const importHandle = (event) => {\n    event.stopPropagation()\n    event.preventDefault()\n    handleMenuClose()\n    let file = event.target.files[0]\n    let reader = new FileReader()\n    reader.onload = function (event) {\n      try {\n        // The file's text will be printed here\n        const xml = event.target.result\n        let result = convert.xml2js(xml)\n        if (!result) throw `The reault of file's content is invalid, result: ${result}`;\n        let playerElements = result.elements[0].elements\n        let nplayers = playerElements.map(item => item.elements[0].text)\n        dispatch(form(nplayers))\n      } catch (e) {\n        alert(\"Cannot import XML file, please try again.\")\n        console.error(e)\n      }\n    }\n\n    reader.readAsText(file)\n  }\n\n  const onClickExport = async () => {\n    try {\n      handleMenuClose()\n      let userGaolConfig = {}\n      let nplayers = userGaolConfig.players\n      let jsonXML = utilConvert.array2PriorityJsonXML(nplayers)\n      let xml = convert.js2xml(jsonXML)\n      const file = new Blob([xml], { type: 'text/xml' })\n      // const element = document.createElement(\"a\")\n      // element.href = URL.createObjectURL(file)\n      // element.download = \"Priority.xml\"\n      // document.body.appendChild(element) // Required for this to work in FireFox\n      // element.click()\n\n      const blobToDataURL = (blob, callback) => {\n        var fileReader = new FileReader();\n        fileReader.onload = function (e) { callback(e.target.result); }\n        fileReader.readAsDataURL(blob);\n      }\n\n      blobToDataURL(file, (url) => {\n        tempExportLink.current.href = url\n        tempExportLink.current.innerText = url\n        tempExportLink.current.download = \"Priority.xml\"\n        tempExportLink.current.click()\n      })\n    } catch (e) {\n      console.error(e)\n    }\n  }\n\n  const onInput = (value, i) => {\n    const nplayers = players.map((v, pi) => {\n      if (pi === i) return value\n      return v\n    })\n    dispatch(form(nplayers))\n  }\n\n  const onTempMessageInput = (key, value) => {\n    const ntempmessage = {...tempMessage}\n\n    const maxLength = 20\n    const valueLength = Math.max(0, value.length)\n    value = valueLength > maxLength ? value.slice(0, maxLength) : value \n    ntempmessage[key] = value\n    setTempMessage(ntempmessage)\n  }\n\n  const onChangeSelectMe = (value) => {\n    dispatch(position(value))\n  }\n\n  const saveConfig = async () => {\n    dispatch(setCustomMessage(tempMessage))\n    dispatch(updateConfig({\n      players, myNumber, message: tempMessage,\n    }))\n    alert(\"Saved successful.\")\n  }\n\n  const resetConfig = () => {\n    setIsReset(prev => !prev)\n  }\n\n  const getPartyType = () => {\n    const { fullParty } = Config.party.max\n    const n = players.length\n    if (n === fullParty) {\n      return \"Full Party\"\n    } \n    return \"Light Party\"\n  }\n\n  const partyType = getPartyType()\n  const classes = useStyles();\n  const menuList = [\n    { title: 'New', icon: <LibraryAddIcon fontSize=\"small\" />, action: newMemberHandle, disabled: players.length >= Config.party.max.fullParty },\n    { title: 'Import XML', icon: <BackupIcon fontSize=\"small\" />, action: onCLickImport },\n    { title: 'Export', icon: <GetAppIcon fontSize=\"small\" />, action: onClickExport, disabled: true, display: false },\n  ]\n  const customList = [\n    { label: 'No Gaol', value: tempMessage.nogaol, onChange: (e) => onTempMessageInput('nogaol', e.target.value) },\n    { label: 'Gaol 1', value: tempMessage.gaol1, onChange: (e) => onTempMessageInput('gaol1', e.target.value) },\n    { label: 'Gaol 2', value: tempMessage.gaol2, onChange: (e) => onTempMessageInput('gaol2', e.target.value) },\n    { label: 'Gaol 3', value: tempMessage.gaol3, onChange: (e) => onTempMessageInput('gaol3', e.target.value) },\n  ]\n\n  return (\n    <div>\n      <Card style={{ paddingBottom: 0 }}>\n        <CardHeader\n          action={\n            <IconButton onClick={handleMenuClick} aria-controls=\"simple-menu\" aria-haspopup=\"true\" aria-label=\"more\">\n              <MoreVertIcon />\n            </IconButton>\n          }\n          title={`${partyType}`}\n          titleTypographyProps={{\n            variant: 'h6',\n          }}\n          subheader=\"The ones who are suffering in UwU.\"\n        />\n        <Menu\n          id=\"simple-menu\"\n          anchorEl={anchorEl}\n          keepMounted\n          open={Boolean(anchorEl)}\n          onClose={handleMenuClose}\n        >\n          {menuList.map((obj, i) => {\n            return (obj.display !== undefined ? obj.display : true) ? (\n              <MenuItem\n                key={i}\n                onClick={obj.action}\n                disabled={obj.disabled !== undefined ? obj.disabled : false}\n              >\n                <ListItemIcon>{obj.icon}</ListItemIcon>\n                <ListItemText primary={obj.title} />\n              </MenuItem>\n            ) : ('')\n          })}\n        </Menu>\n        <CardContent>\n          {players.map((n, i) => (\n            <CharacterRow\n              key={i}\n              selectMe={myNumber}\n              index={i}\n              name={n}\n              onChangeSelectMe={onChangeSelectMe}\n              onTextInput={onInput}\n              removeHandle={removeMemberHandle}\n              hiddenAction={players.length <= 1}\n            />\n          ))}\n        </CardContent>\n      </Card>\n      <CustomMessage inputList={customList} />\n      <div className={classes.actionDiv}>\n        <Button variant=\"contained\" color=\"secondary\" className={classes.cancelBtn} onClick={resetConfig}>Reset</Button>\n        <Button variant=\"contained\" color=\"primary\" onClick={saveConfig}>Save</Button>\n      </div>\n      <input type=\"file\" id=\"import\" ref={importFile} className={classes.dnone} onChange={importHandle} onClick={e => (e.target.value = null)} />\n    </div>\n  )\n}\n\nexport default PartyPanel","import { makeStyles } from '@material-ui/core/styles'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport Typography from '@material-ui/core/Typography'\nimport { Link } from '@material-ui/core'\n\nfunction About() {\n  const useStyles = makeStyles((theme) => ({\n    spaceTop: {\n      marginTop: '30px',\n    },\n  }))\n  const classes = useStyles()\n  return (\n    <div>\n      <Card style={{ paddingBottom: 0 }}>\n        <CardContent>\n          <Typography variant=\"h6\" color=\"textSecondary\">Gaol Overlay</Typography>\n          <Typography variant=\"subtitle2\" color=\"textSecondary\">\n            Developed by <Link color=\"primary\" underline=\"none\" href=\"https://na.finalfantasyxiv.com/lodestone/character/31961672/\" target=\"_blank\">Supskv</Link>.\n          </Typography>\n          <Typography variant=\"h6\" color=\"textSecondary\" className={classes.spaceTop}>Github</Typography>\n          <Typography variant=\"subtitle2\" color=\"textSecondary\">\n            See the latest code, changelog, and readme on Github. You can also submit bug reports or feature requests.\n          </Typography>\n          <Link underline=\"none\" href=\"https://github.com/supskv/gaol-plugin\" target=\"_blank\">https://github.com/supskv/gaol-plugin</Link>\n          <Typography variant=\"subtitle2\" color=\"textSecondary\" className={classes.spaceTop}>\n            version 0.1.20-alpha\n          </Typography>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n\nexport default About","import { useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardContent from '@material-ui/core/CardContent'\nimport Typography from '@material-ui/core/Typography'\nimport { Button } from '@material-ui/core'\nimport TextField from '@material-ui/core/TextField'\nimport LZString from 'lz-string'\n\nimport * as convert from 'xml-js'\nimport * as utilConvert from '../../utils/xml-js'\nimport local from '../../plugins/localForage'\nimport {\n  updateConfig\n} from '../../features/gaol/gaolSlice'\n\nfunction ImXExport() {\n  const [text, setText] = useState('')\n  const dispatch = useDispatch()\n\n  const useStyles = makeStyles((theme) => ({\n    spaceTop: {\n      marginTop: '30px',\n    },\n    actionDiv: {\n      display: 'flex',\n      justifyContent: 'center',\n      marginTop: 10,\n    },\n    cancelBtn: {\n      margin: '0px 10px',\n    },\n    importInput: {\n      width: '100%',\n    }\n  }))\n  const classes = useStyles()\n\n\n  const textHandle = (e) => {\n    setText(e.target.value)\n    console.log(text)\n  }\n\n  const importHandle = () => {\n    try {\n      const xml = LZString.decompressFromEncodedURIComponent(text)\n      let result = convert.xml2js(xml)\n      if (!result) throw `The reault of the compress is invalid, result: ${result}`\n      let playerElements = result.elements[0].elements\n      let players = playerElements.map(item => item.elements[0].text)\n      dispatch(updateConfig({ players }))\n      alert('Imported Successful.')\n    } catch (e) {\n      alert(\"Cannot import, please try again.\")\n      console.error(e)\n    }\n  }\n\n  const exportHandle = async () => {\n    if (true) {\n      const gaolUserConfig = await local.getItem('gaol')\n      let nplayers = gaolUserConfig.players\n      let jsonXML = utilConvert.array2PriorityJsonXML(nplayers)\n      let xml = convert.js2xml(jsonXML)\n      const encrypt = LZString.compressToEncodedURIComponent(xml)\n      setText(encrypt)\n    }\n  }\n\n  return (\n    <div>\n      <Card style={{ paddingBottom: 0 }}>\n        <CardHeader\n          title={`Import / Export`}\n          titleTypographyProps={{\n            variant: 'h6',\n          }}\n          // subheader=\"The ones who are suffering in UwU.\"\n        />\n        <CardContent>\n          <TextField\n            id=\"import-field\"\n            label=\"Paste text here\"\n            multiline\n            rows={10}\n            className={classes.importInput}\n            variant=\"outlined\"\n            size=\"small\"\n            value={text}\n            onChange={textHandle}\n          />\n          <div className={classes.actionDiv}>\n            <Button variant=\"contained\" color=\"secondary\" className={classes.cancelBtn} onClick={importHandle}>Import</Button>\n            <Button variant=\"contained\" color=\"primary\" onClick={exportHandle}>Export</Button>\n          </div>\n          <Typography variant=\"subtitle2\" color=\"textSecondary\" className={classes.spaceTop}>\n            - Import: Paste the code and click on import\n          </Typography>\n          <Typography variant=\"subtitle2\" color=\"textSecondary\">\n            - Export: Generate code and copy to others\n          </Typography>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n\nexport default ImXExport","import React from 'react'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport SwipeableViews from 'react-swipeable-views'\nimport AppBar from '@material-ui/core/AppBar'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport Box from '@material-ui/core/Box'\n\nimport PartyPanel from '../components/UI/PartyPanel'\nimport About from '../components/UI/About'\nimport ImXExport from '../components/UI/ImXExport'\n\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`full-width-tabpanel-${index}`}\n      aria-labelledby={`full-width-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          {children}\n        </Box>\n      )}\n    </div>\n  );\n}\n\nfunction a11yProps(index) {\n  return {\n    id: `full-width-tab-${index}`,\n    'aria-controls': `full-width-tabpanel-${index}`,\n  };\n}\n\nfunction Setting() {\n  const theme = useTheme();\n  const useStyles = makeStyles((theme) => ({\n    root: {\n      background: theme.palette.background.default,\n      height: 'inherit',\n    },\n    // background: {\n    //   position: 'absolute',\n    //   top: 0,\n    //   left: 0,\n    //   width: '100%',\n    //   height: '100%',\n    //   zIndex: 0,\n    //   background: theme.palette.background.default,\n    //   backgroundSize: 'cover',\n    //   backgroundPosition: 'center',\n    //   opacity: 1,\n    // }\n    tabpanel: {\n      height: '100vh',\n    }\n  }))\n  const classes = useStyles()\n  const [value, setValue] = React.useState(0)\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue)\n  };\n\n  const handleChangeIndex = (index) => {\n    setValue(index)\n  };\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"sticky\" color=\"default\">\n        <Tabs\n          value={value}\n          onChange={handleChange}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"fullWidth\"\n          aria-label=\"full width tabs example\"\n        >\n          <Tab label=\"General\" {...a11yProps(0)} />\n          <Tab label=\"Import/Export\" {...a11yProps(1)} />\n          <Tab label=\"About\" {...a11yProps(2)} />\n        </Tabs>\n      </AppBar>\n      <SwipeableViews\n        // axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\n        index={value}\n        onChangeIndex={handleChangeIndex}\n      >\n        <TabPanel value={value} index={0} dir={theme.direction} className={classes.tabpanel}>\n          <PartyPanel />\n        </TabPanel>\n        <TabPanel value={value} index={1} dir={theme.direction} className={classes.tabpanel}>\n          <ImXExport />\n        </TabPanel>\n        <TabPanel value={value} index={2} dir={theme.direction} className={classes.tabpanel}>\n          <About />\n        </TabPanel>\n      </SwipeableViews>\n    </div>\n  )\n}\n\nexport default Setting","import {\n  HashRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\"\n\nimport Gaol from './features/gaol/Gaol'\nimport Setting from './pages/Setting'\n\n\nfunction App() {\n\n  return (\n    <>\n      <Router>\n        <Switch>\n          <Route exact path=\"/\">\n            <Gaol />\n          </Route>\n          <Route path=\"/settings\">\n            <Setting />\n          </Route>\n        </Switch>\n      </Router>\n    </>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit'\nimport LogRocket from 'logrocket';\n\nimport gaolReducer from '../features/gaol/gaolSlice'\n\nexport const store = configureStore({\n  reducer: {\n    gaol: gaolReducer,\n  },\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware().concat(LogRocket.reduxMiddleware())\n})","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { createTheme, ThemeProvider } from '@material-ui/core/styles'\nimport CssBaseline from \"@material-ui/core/CssBaseline\"\nimport { Provider } from 'react-redux'\nimport LogRocket from 'logrocket'\n\nimport App from './App'\nimport { store } from './app/store'\nimport './index.css'\n\nLogRocket.init('pmwhh1/gaol-plugin')\n\nconst theme = createTheme({\n  palette: {\n    type: 'dark',\n  },\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}